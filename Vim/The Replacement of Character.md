`:%s/word1/word2/g`\
このコマンドは個人的には一番良く使ってきたと思いながらも、使い方や原理については全く知らないコマンドであると思われる。\
そのため、この機会にこのコマンドに関して勉強しより自由に活用出来るよう理解を深めようと思っている。

# コマンドの基本
このコマンドは文字列の置換を行ってくれるコマンドである。\
`:始まる行, 終わる行s/置換前の文字列/置換後の文字列/オプション`\
コマンドの構成はこのようにされている。各項目に関しても説明を次に残す。

## 行、範囲の設定
範囲の設定は行単位で行われる。
一般的に行の設定が一つの場合、示されている行で操作を行い、行の設定が2つの場合、その行を含めた間を範囲として操作を行う。\
因みに、範囲を３つにすると、エラーが発生した。
 * 数字
   - 数字目の行を意味する。
 * .
   - カーソルが位置している行を意味する。
   - :s/のようにその行だけで操作を行うなら省略も出来る。
 * $
   - 最終行を意味する。
   - .,$sのように書くと、カーソルが位置している今の行から最後までとの意味。
 * %
   - すべての行を意味する。
 * -n, +m
   - 今カーソルが位置したから-n若しくは+mの行を意味する
   - もちろん、-n,+msで範囲の設定でも使える。
 * g/文字列/
   ```cpp
   (例)
   vector<string> stringer;
   vector<int> stringendo;

   :g/</s/string/char/g

   vector<char> stringer;
   vector<int> stringendo;
   ```
   - 文字列に該当するすべての行を意味する。
   - 文字列の部分は置換したくないとき使えられる。

## 置換前の文字列
置換前の文字列だとして、そこに入れるものがただの文字列に限られるとは言えない。\
置換前の文字列の部分には、一部の正規表現(Regular Expression)を支援している。
 * 文字
   - その文字を示す。
 * .
   - どの文字かは関係なく、文字1つを意味する。
 * \*
   - 0個以上の文字を意味する。
 * ^
   ```
   (理想的な例)
   this is vim
   is this vim
   vim is this

   :%s/^this/hello/g

   hello is vim
   is this vim
   vim is this

   :%s/$this/hello/g

   this is vim
   is this vim
   vim is hello
   ```
   - 始まり
   - Tab文字も認識されてしまうので、活用性低いかも？
 * $
   - 終わり
   - なぜか出来ない。

 * \\{n,m\\}
   ```
   (例)
   aaaa aaa a aa aaa aaaaa
   :s/a\{2,\}/b/g → a b a b b b
   :s/a\{-2,\}/b/g → bb ba a b ba bba
   ```
   * 文字の繰り返しで、出来るだけmに近い文字数を置換する。
   * \\{n,\\}や、\\{,m\\}のようにも使える。
   * \\{-n,m\\}のように入力すると出来るだけnに近い文字数を置換する。
 * []
   - []なかの文字の中で一つ
   - [a-z]などで使われる。
 * \
   - コマンドとしてではなく、文字として特殊文字などを使うとき使われる。
   - \\[ivec\\]など
 * \\(\\)
   - 括弧内の文字列を1~9のバッファの中に保存する。
   - 詳しい使い方については置換後の文字列で例を見せる。
 
## 置換後の文字列
 * 文字
   - その文字を示す。
 * \
   - 置換前と同じく、特殊文字などを使うとき使われる。
 * \n
   ```
   (例)
   Hello my world
   :s/\(Hello \)\(my \)\(world\)/\2\3\1\g
   my worldHello
   ```
   - 置換前で\\(\\)より指定されたn番目のバッファを呼び出す。

## オプション
オプションは一回に2つ以上指定できるが、基本的にgよりcが高い優先度を持つ。
 * g
   - 範囲内で条件を満たすすべての文字列に対して確認をとらずに変更を行う。
 * i
   - 大文字か小文字かに関わらず変更を行う。
 * c
   - 条件を満たす文字列ごとに変更するか確認を取ってから変更を行う。